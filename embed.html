<!DOCTYPE html>
<html>
<head>
    <title>Chatbot</title>
    <link rel="stylesheet" type="text/css" href="stile.css">
</head>
<body>

<div id="chatbotIcon" style="position: fixed; bottom: 20px; right: 20px; cursor: pointer;">
    <!-- Qui puoi inserire un'immagine o un'icona per il pulsante -->
    <img src="chatbot-icon.png" alt="Apri chatbot" style="width: 50px; height: 50px;">
</div>
<div id="closeButton" style="display: none; position: fixed; bottom: 630px; right: 20px; cursor: pointer; z-index: 1000;">
    <svg
          id="closeIcon"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M18 18L6 6M6 18L18 6"
            stroke="black"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
</div>
<div id="chatbotFrame" style="display: none; position: fixed; bottom: 20px; right: 20px;">
    <iframe
        id="chatIframe"
        data-src="http://localhost:3000/"
        src="about:blank"
        width="100%" 
        height="600px"
        frameBorder="0"
        title="Embedded Webpage">
    </iframe>
</div>


<script>
    document.getElementById('chatbotIcon').addEventListener('click', function() {
    var iframe = document.getElementById('chatIframe');
    var chatbotFrame = document.getElementById('chatbotFrame');
    // Verifica se l'iframe ha gi√† caricato l'URL
    if (iframe.getAttribute("src") === "about:blank") {
        iframe.src = iframe.getAttribute("data-src"); // Imposta l'URL effettivo
    }
    chatbotFrame.style.display = "block"; // Mostra l'iframe
    closeButton.style.display = "block"; // Mostra il pulsante di chiusura
});


document.getElementById('closeButton').addEventListener('click', function() {
    var iframe = document.getElementById('chatbotFrame');
    iframe.style.display = "none";
    this.style.display = "none"; // Nasconde il pulsante di chiusura
});
</script>

</body>
</html>
